/**
 * @file motor_control.c
 * @author Marcus Behel
 */

#include <motor_control.h>
#include <motor_pwm.h>
#include <matrix.h>

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// Macros
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// globals are prefixed with motor_control and have long variable names
// These "rename" the globals within this source file only
#define dof_matrix          motor_control_dof_matrix


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// Globals
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

double motor_control_dof_matrix_arr[8*6];                 // Backing array for dof matrix
matrix motor_control_dof_matrix;                          // dof matrix

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// Functions
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void motor_control_init(void){
    // TODO
}

void motor_control_raw(float s1, float s2, float s3, float s4, float s5, float s6, float s7, float s8){
    float speeds[8] = { s1, s2, s3, s4, s5, s6, s7, s8 };
    motor_pwm_set(speeds);
}

void motor_control_local(float x, float y, float z, float pitch, float roll, float yaw){
    // TODO
}
