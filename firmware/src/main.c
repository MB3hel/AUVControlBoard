#include <atmel_start.h>
#include <usbuart.h>


int main(void){
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /// Initialization
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    atmel_start_init();                             // Initialize ASF4 drivers & middleware
    while(!usbuart_init()){                         // Initialize UART via USB (blocking until ready)
        delay_ms(100);
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /// Main loop
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    while (1) {
        gpio_set_pin_level(RED_LED, true);
        usbuart_writestr("LED = High\r\n");
        delay_ms(1000);
        gpio_set_pin_level(RED_LED, false);
        usbuart_writestr("LED = Low\r\n");
        delay_ms(1000);
    }
}
