#include <atmel_start.h>
#include <usbuart.h>


uint8_t *high_msg = (uint8_t[]){'H', 'I', 'G', 'H', '\n'};
uint8_t *low_msg = (uint8_t[]){'L', 'O', 'W', '\n'};


int main(void){
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	/// Initialization
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	atmel_start_init();					// Initialize ASF4 drivers & middleware

	while(!usbuart_init()){
		delay_ms(100);
	}

	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	/// Main loop
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	uint8_t data;

	while (1) {
		usbuart_readone(&data);
		if(data == 'h'){
			gpio_set_pin_level(RED_LED, true);
		}else if(data == 'l'){
			gpio_set_pin_level(RED_LED, false);
		}
	}
}
